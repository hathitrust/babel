(function(a){if(typeof define==="function"&&define.amd){if(typeof jQuery!=="undefined"){define(["jquery"],a)}else{define([],a)}}else{if(typeof jQuery!=="undefined"){a(jQuery)}else{a()}}})(function(b,e){var q={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],p={anchor:"fragment"},a={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},l=Object.prototype.toString,s=/^[0-9]+$/;function o(u,x){var z=decodeURI(u),w=a[x||false?"strict":"loose"].exec(z),y={attr:{},param:{},seg:{}},v=14;while(v--){y.attr[t[v]]=w[v]||""}y.param.query=f(y.attr.query);y.param.fragment=f(y.attr.fragment);y.seg.path=y.attr.path.replace(/^\/+|\/+$/g,"").split("/");y.seg.fragment=y.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");y.attr.base=y.attr.host?(y.attr.protocol?y.attr.protocol+"://"+y.attr.host:y.attr.host)+(y.attr.port?":"+y.attr.port:""):"";return y}function m(v){var u=v.tagName;if(typeof u!=="undefined"){return q[u.toLowerCase()]}return u}function c(x,w){if(x[w].length==0){return x[w]={}}var v={};for(var u in x[w]){v[u]=x[w][u]}x[w]=v;return v}function k(y,w,v,z){var u=y.shift();if(!u){if(g(w[v])){w[v].push(z)}else{if("object"==typeof w[v]){w[v]=z}else{if("undefined"==typeof w[v]){w[v]=z}else{w[v]=[w[v],z]}}}}else{var x=w[v]=w[v]||[];if("]"==u){if(g(x)){if(""!=z){x.push(z)}}else{if("object"==typeof x){x[j(x).length]=z}else{x=w[v]=[w[v],z]}}}else{if(~u.indexOf("]")){u=u.substr(0,u.length-1);if(!s.test(u)&&g(x)){x=c(w,v)}k(y,x,u,z)}else{if(!s.test(u)&&g(x)){x=c(w,v)}k(y,x,u,z)}}}}function d(y,x,B){if(~x.indexOf("]")){var A=x.split("["),u=A.length,z=u-1;k(A,y,"base",B)}else{if(!s.test(x)&&g(y.base)){var w={};for(var v in y.base){w[v]=y.base[v]}y.base=w}i(y.base,x,B)}return y}function f(u){return h(String(u).split(/&|;/),function(v,A){try{A=decodeURIComponent(A.replace(/\+/g," "))}catch(x){}var B=A.indexOf("="),z=n(A),w=A.substr(0,z||B),y=A.substr(z||B,A.length),y=y.substr(y.indexOf("=")+1,y.length);if(""==w){w=A,y=""}return d(v,w,y)},{base:{}}).base}function i(x,w,y){var u=x[w];if(e===u){x[w]=y}else{if(g(u)){u.push(y)}else{x[w]=[u,y]}}}function n(x){var u=x.length,w,y;for(var v=0;v<u;++v){y=x[v];if("]"==y){w=false}if("["==y){w=true}if("="==y&&!w){return v}}}function h(y,v){var w=0,u=y.length>>0,x=arguments[2];while(w<u){if(w in y){x=v.call(e,x,y[w],w,y)}++w}return x}function g(u){return Object.prototype.toString.call(u)==="[object Array]"}function j(v){var u=[];for(prop in v){if(v.hasOwnProperty(prop)){u.push(prop)}}return u}function r(u,v){if(arguments.length===1&&u===true){v=true;u=e}v=v||false;u=u||window.location.toString();return{data:o(u,v),attr:function(w){w=p[w]||w;return typeof w!=="undefined"?this.data.attr[w]:this.data.attr},param:function(w){return typeof w!=="undefined"?this.data.param.query[w]:this.data.param.query},fparam:function(w){return typeof w!=="undefined"?this.data.param.fragment[w]:this.data.param.fragment},segment:function(w){if(typeof w==="undefined"){return this.data.seg.path}else{w=w<0?this.data.seg.path.length+w:w-1;return this.data.seg.path[w]}},fsegment:function(w){if(typeof w==="undefined"){return this.data.seg.fragment}else{w=w<0?this.data.seg.fragment.length+w:w-1;return this.data.seg.fragment[w]}}}}if(typeof b!=="undefined"){b.fn.url=function(v){var u="";if(this.length){u=b(this).attr(m(this[0]))||""}return r(u,v)};b.url=r}else{window.purl=r}});
/* /htapps/roger.babel/pt/web/js/purl-min.js */
if(window.console===undefined){window.console={log:function(){}}}if(!Array.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1}}if(!Array.prototype.reduce){Array.prototype.reduce=function(b){var a=this.length;if(typeof b!="function"){throw new TypeError()}if(a==0&&arguments.length==1){throw new TypeError()}var c=0;if(arguments.length>=2){var d=arguments[1]}else{do{if(c in this){d=this[c++];break}if(++c>=a){throw new TypeError()}}while(true)}for(;c<a;c++){if(c in this){d=b.call(null,d,this[c],c,this)}}return d}}if(!Date.now){Date.now=function(){return new Date().valueOf()}}var get_resize_root=function(){if(window.$window===undefined){window.$window=$(window);if($.browser.msie){if(parseInt($.browser.version)<=8){$window=$("body");console.log("REDEFINING $window")}}}return window.$window};head.ready(function(){!function(a){if(!Object.create){Object.create=function(c){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function b(){}b.prototype=c;return new b()}}a.plugin=function(c,b){a.fn[c]=function(d){return this.each(function(){if(!a.data(this,c)){a.data(this,c,Object.create(b).init(d,this))}else{var e=a.data(this,c);e.handle(d)}})}}}(window.jQuery);(function(a){var b=a({});a.subscribe=function(){b.on.apply(b,arguments)};a.unsubscribe=function(){b.off.apply(b,arguments)};a.publish=function(){b.trigger.apply(b,arguments)};a.fn.subscribe=function(c,e){var d=this;a.subscribe(c,function(){var f=arguments;d.each(function(){e.apply(this,f)})});return d}}(jQuery));$(document).ready(function(){$("#form-search-volume").submit(function(){var a=$(this);var b=a.find("input[type=text]");if(!$.trim(b.val())){bootbox.alert("Please enter a term in the search box.");return false}return true});$("#form-go-page").submit(function(){var a=$(this);var b=a.find("input[type=text]");if(!$.trim(b.val())){bootbox.alert("Please enter a page number.");return false}return true})})});
/* /htapps/roger.babel/pt/web/js/base-min.js */
var HT=HT||{};HT.feedback={};HT.feedback.dialog=function(){var b='<form>    <fieldset>        <legend>Email Address</legend>        <label for="email" class="offscreen">EMail Address</label>        <input type="text" class="input-xlarge" placeholder="[Your email address]" name="email" id="email" />        <span class="help-block">We will make every effort to address copyright issues by the next business day after notification.</span>    </fieldset>    <fieldset>        <legend>Overall page readability and quality</legend>        <label class="radio">            <input type="radio" name="Quality" value="readable" />            Few problems, entire page is readable        </label>        <label class="radio">            <input type="radio" name="Quality" value="someproblems" />            Some problems, but still readable        </label>        <label class="radio">            <input type="radio" name="Quality" value="difficult" />            Significant problems, difficult or impossible to read        </label>    </fieldset>    <fieldset>        <legend>Specific page image problems?</legend>        <label class="checkbox">            <input type="checkbox" name="missing" value="1" />            Missing parts of the page        </label>        <label class="checkbox">            <input type="checkbox" name="blurry" value="1" />            Blurry text        </label>        <label class="checkbox">            <input type="checkbox" name="curved" value="1" />            Curved or distorted text        </label>        <label>Other problem <input type="text" class="input-medium" name="other" value="" /></label>    </fieldset>    <fieldset>        <legend>Problems with access rights?</legend>        <span class="help-block"><strong>            (See also: <a href="http://www.hathitrust.org/take_down_policy" target="_blank">take-down policy</a>)        </strong></span>        <label class="radio">            <input type="radio" name="Rights" value="noaccess" />            This item is in the public domain, but I don\'t have access to it.        </label>        <label class="radio">            <input type="radio" name="Rights" value="access" />            I have access to this item, but should not.        </label>    </fieldset>    <p>        <label for="comments">Other problems or comments?</label>        <textarea id="comments" name="comments" rows="3"></textarea>    </p></form>';var a=$(b);$("<input type='hidden' name='SysID' />").val(HT.params.id).appendTo(a);$("<input type='hidden' name='RecordURL' />").val(HT.params.RecordURL).appendTo(a);if(HT.reader){$("<input type='hidden' name='SeqNo' />").val(HT.reader.getCurrentSeq()).appendTo(a)}else{if(HT.params.seq){$("<input type='hidden' name='SeqNo' />").val(HT.params.seq).appendTo(a)}}$("<input type='hidden' name='view' />").val(HT.params.view).appendTo(a);return a};
/* /htapps/roger.babel/pt/web/js/feedback-min.js */
